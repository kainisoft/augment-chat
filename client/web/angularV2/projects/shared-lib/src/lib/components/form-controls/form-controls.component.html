<div class="form-field">
  @if (label()) {
    <label class="form-field__label" [class.form-field__label--required]="required()">
      {{ label() }}
    </label>
  }
  
  <div class="form-field__input-wrapper">
    @if (type() === 'textarea') {
      <textarea
        [ngClass]="inputClasses()"
        [placeholder]="placeholder()"
        [disabled]="disabled()"
        [attr.maxlength]="maxLength()"
        [rows]="rows()"
        [value]="value()"
        (input)="onInput($event)"
        (blur)="onBlur()"
        (focus)="onFocus()">
      </textarea>
    } @else {
      <input
        [ngClass]="inputClasses()"
        [type]="type()"
        [placeholder]="placeholder()"
        [disabled]="disabled()"
        [attr.maxlength]="maxLength()"
        [value]="value()"
        (input)="onInput($event)"
        (blur)="onBlur()"
        (focus)="onFocus()" />
    }
    
    @if (characterCount()) {
      <span class="form-field__character-count">
        {{ characterCount() }}
      </span>
    }
  </div>
  
  @if (hasError()) {
    <div class="form-field__error">
      {{ errorMessage() }}
    </div>
  }
</div>