<div class="chat-list-container h-full flex flex-col">
  <!-- Header -->
  <div class="chat-list-header p-4 border-b border-border">
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-xl font-semibold">Chats</h1>
      <button 
        mat-fab 
        color="primary" 
        class="new-chat-fab"
        (click)="startNewChat()"
        aria-label="Start new chat"
      >
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <!-- Tabs -->
    <mat-tab-group class="chat-tabs" (selectedTabChange)="onTabChange($event)">
      <mat-tab label="All">
        <ng-template matTabContent>
          <span matBadge="24" matBadgeSize="small" matBadgeColor="primary">All</span>
        </ng-template>
      </mat-tab>
      <mat-tab label="Unread">
        <ng-template matTabContent>
          <span matBadge="5" matBadgeSize="small" matBadgeColor="warn">Unread</span>
        </ng-template>
      </mat-tab>
      <mat-tab label="Groups">
        <ng-template matTabContent>
          <span matBadge="8" matBadgeSize="small" matBadgeColor="accent">Groups</span>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>

  <!-- Chat List -->
  <div class="chat-list-content flex-1 overflow-y-auto">
    <mat-list class="chat-conversations">
      <!-- Mock chat items -->
      <mat-list-item 
        class="chat-item cursor-pointer hover:bg-muted/50"
        (click)="openChat('1')"
      >
        <div class="chat-content w-full flex items-center gap-3 py-2">
          <div class="chat-avatar relative">
            <div class="avatar-circle w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
              <span class="avatar-text text-primary font-medium">AJ</span>
            </div>
            <div class="online-indicator absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"></div>
          </div>
          
          <div class="chat-info flex-1 min-w-0">
            <div class="chat-header flex items-center justify-between mb-1">
              <h3 class="chat-name font-medium text-sm truncate">Alice Johnson</h3>
              <span class="chat-time text-xs text-muted-foreground">2m</span>
            </div>
            <div class="chat-preview flex items-center justify-between">
              <p class="last-message text-sm text-muted-foreground truncate">
                Hey! How are you doing today?
              </p>
              <span class="unread-badge bg-primary text-primary-foreground text-xs rounded-full px-2 py-0.5 ml-2">
                2
              </span>
            </div>
          </div>
        </div>
      </mat-list-item>

      <mat-list-item 
        class="chat-item cursor-pointer hover:bg-muted/50"
        (click)="openChat('2')"
      >
        <div class="chat-content w-full flex items-center gap-3 py-2">
          <div class="chat-avatar">
            <div class="avatar-circle w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
              <span class="avatar-text text-primary font-medium">PT</span>
            </div>
          </div>
          
          <div class="chat-info flex-1 min-w-0">
            <div class="chat-header flex items-center justify-between mb-1">
              <h3 class="chat-name font-medium text-sm truncate">Project Team</h3>
              <span class="chat-time text-xs text-muted-foreground">1h</span>
            </div>
            <div class="chat-preview flex items-center justify-between">
              <p class="last-message text-sm text-muted-foreground truncate">
                <mat-icon class="inline-icon">group</mat-icon>
                Sarah: Meeting at 3 PM today
              </p>
              <span class="unread-badge bg-primary text-primary-foreground text-xs rounded-full px-2 py-0.5 ml-2">
                3
              </span>
            </div>
          </div>
        </div>
      </mat-list-item>

      <mat-list-item 
        class="chat-item cursor-pointer hover:bg-muted/50"
        (click)="openChat('3')"
      >
        <div class="chat-content w-full flex items-center gap-3 py-2">
          <div class="chat-avatar">
            <div class="avatar-circle w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
              <span class="avatar-text text-primary font-medium">BS</span>
            </div>
          </div>
          
          <div class="chat-info flex-1 min-w-0">
            <div class="chat-header flex items-center justify-between mb-1">
              <h3 class="chat-name font-medium text-sm truncate">Bob Smith</h3>
              <span class="chat-time text-xs text-muted-foreground">2h</span>
            </div>
            <div class="chat-preview flex items-center justify-between">
              <p class="last-message text-sm text-muted-foreground truncate">
                Thanks for the help! üëç
              </p>
            </div>
          </div>
        </div>
      </mat-list-item>
    </mat-list>

    <!-- Empty State -->
    @if (false) {
      <div class="empty-state p-6 text-center">
        <mat-icon class="empty-icon text-6xl text-muted-foreground mb-4">chat_bubble_outline</mat-icon>
        <h3 class="text-lg font-medium text-foreground mb-2">No conversations yet</h3>
        <p class="text-muted-foreground mb-4">Start chatting with your contacts</p>
        <button mat-raised-button color="primary" (click)="startNewChat()">
          <mat-icon>add</mat-icon>
          Start New Chat
        </button>
      </div>
    }
  </div>
</div>
